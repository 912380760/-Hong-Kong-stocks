{"version":3,"sources":["webpack:///./src/views/list.vue?f5b7","webpack:///src/views/list.vue","webpack:///./src/views/list.vue?d04c","webpack:///./src/views/list.vue","webpack:///./src/views/list.vue?afef"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticStyle","attrs","on","handleClick","model","value","callback","$$v","activeName","expression","_l","brokerObj","item","key","name","list","getSummaries","tableRowClassName","prop","order","scopedSlots","_u","fn","scope","_s","row","打新类型","split","打新手数","融资比例","toFixed","中签数","资金占用","申购成本","盈亏","百分比收益","打新记录","手数","融资倍数","Infinity","申购金额","staticRenderFns","bubbleSort","max","arr","length","j","done","i","Date","日期","temp","console","log","data","filters","methods","columns","forEach","index","values","every","sums","reduce","isNaN","prev","curr","createChart","color","tooltip","trigger","axisPointer","type","grid","left","right","bottom","containLabel","xAxis","yAxis","series","myChart","setOption","option","calc","element","dateTime","setDate","getDate","结算日","e","ele","出售日期","收益对象","收益数组对象","push","利润","unshift","收益日期","收益利润","总收益","mounted","component"],"mappings":"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","file":"js/list.940e526e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"申购记录\")]),_c('el-tabs',{staticStyle:{\"height\":\"800px\"},attrs:{\"tab-position\":\"left\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.brokerObj.打新记录),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"label\":item.name,\"name\":item.name}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":item.list,\"border\":\"\",\"summary-method\":_vm.getSummaries,\"show-summary\":\"\",\"row-class-name\":_vm.tableRowClassName,\"default-sort\":{prop: '打新手数', order: 'descending'},\"max-height\":\"800\"}},[_c('el-table-column',{attrs:{\"prop\":\"券商\",\"label\":\"券商\"}}),_c('el-table-column',{attrs:{\"prop\":\"打新手数\",\"label\":\"打新手数\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.打新类型.split('打新')[0] + scope.row.打新手数 + '手')+\"\\n          \")]}}],null,true)}),_c('el-table-column',{attrs:{\"prop\":\"申购金额\",\"label\":\"融资倍数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.融资比例 !== 1 ? (1 / (1 - scope.row.融资比例)).toFixed(0) + '倍' : '白嫖')+\"\\n          \")]}}],null,true)}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"中签数\",\"label\":\"中签数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.中签数 ? scope.row.中签数 + '手' : '')+\"\\n          \")]}}],null,true)}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"资金占用\",\"label\":\"资金占用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.资金占用.toFixed(0) + '元')+\"\\n          \")]}}],null,true)}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"申购成本\",\"label\":\"申购成本\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.申购成本.toFixed(0) + '元')+\"\\n          \")]}}],null,true)}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"盈亏\",\"label\":\"盈亏\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.盈亏.toFixed(0) + '元')+\"\\n          \")]}}],null,true)}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"百分比收益\",\"label\":\"百分比收益\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s((scope.row.百分比收益 * 100).toFixed(2) + '%')+\"\\n          \")]}}],null,true)})],1)],1)}),1),_c('h3',[_vm._v(\"申购合计\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.brokerObj.打新记录,\"summary-method\":_vm.getSummaries,\"show-summary\":\"\",\"border\":\"\",\"max-height\":\"800\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"股票名称\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"手数\",\"label\":\"打新手数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.手数 + '手')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"申购金额\",\"label\":\"平均融资倍数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.融资倍数 !== Infinity ? scope.row.融资倍数.toFixed(0) + '倍' : '白嫖')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"中签数\",\"label\":\"中签数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.中签数 ? scope.row.中签数 + '手' : '')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"资金占用\",\"label\":\"资金占用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.资金占用.toFixed(0) + '元')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"申购成本\",\"label\":\"申购成本\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.申购成本.toFixed(0) + '元')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"盈亏\",\"label\":\"盈亏\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.盈亏.toFixed(0) + '元')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"百分比收益\",\"label\":\"百分比收益\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s((scope.row.百分比收益 * 100).toFixed(2) + '%')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"申购金额\",\"label\":\"申购金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.申购金额.toFixed(0) + '元')+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"上市日期\",\"label\":\"上市日期\"}})],1),_c('h3',[_vm._v(\"历史收益曲线\")]),_c('p',[_vm._v(\"股票未中签或股票出售后才记录收益\")]),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"400px\"},attrs:{\"id\":\"main\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h3>申购记录</h3>\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" tab-position=\"left\" style=\"height: 800px;\">\r\n      <el-tab-pane v-for=\"item in brokerObj.打新记录\" :key=\"item.name\"  :label=\"item.name\" :name=\"item.name\">\r\n        <el-table\r\n            :data=\"item.list\"\r\n            border\r\n            :summary-method=\"getSummaries\"\r\n            show-summary\r\n            :row-class-name=\"tableRowClassName\"\r\n            :default-sort=\"{prop: '打新手数', order: 'descending'}\"\r\n            max-height=\"800\"\r\n            style=\"width: 100%;\">\r\n          <el-table-column\r\n              prop=\"券商\"\r\n              label=\"券商\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"打新手数\"\r\n              label=\"打新手数\"\r\n              sortable>\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.打新类型.split('打新')[0] + scope.row.打新手数 + '手' }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"申购金额\"\r\n              label=\"融资倍数\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.融资比例 !== 1 ? (1 / (1 - scope.row.融资比例)).toFixed(0) + '倍' : '白嫖' }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              sortable\r\n              prop=\"中签数\"\r\n              label=\"中签数\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.中签数 ? scope.row.中签数 + '手' : '' }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              sortable\r\n              prop=\"资金占用\"\r\n              label=\"资金占用\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.资金占用.toFixed(0) + '元'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              sortable\r\n              prop=\"申购成本\"\r\n              label=\"申购成本\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.申购成本.toFixed(0) + '元'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              sortable\r\n              prop=\"盈亏\"\r\n              label=\"盈亏\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.盈亏.toFixed(0) + '元'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              sortable\r\n              prop=\"百分比收益\"\r\n              label=\"百分比收益\">\r\n            <template slot-scope=\"scope\">\r\n              {{ (scope.row.百分比收益 * 100).toFixed(2) + '%' }}\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <h3>申购合计</h3>\r\n    <el-table\r\n        :data=\"brokerObj.打新记录\"\r\n        :summary-method=\"getSummaries\"\r\n        show-summary\r\n        border\r\n        max-height=\"800\"\r\n        style=\"width: 100%;\">\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"股票名称\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"手数\"\r\n          label=\"打新手数\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.手数 + '手' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"申购金额\"\r\n          label=\"平均融资倍数\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.融资倍数 !== Infinity ? scope.row.融资倍数.toFixed(0) + '倍' : '白嫖' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"中签数\"\r\n          label=\"中签数\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.中签数 ? scope.row.中签数 + '手' : '' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"资金占用\"\r\n          label=\"资金占用\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.资金占用.toFixed(0) + '元' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"申购成本\"\r\n          label=\"申购成本\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.申购成本.toFixed(0) + '元'}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"盈亏\"\r\n          label=\"盈亏\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.盈亏.toFixed(0) + '元' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"百分比收益\"\r\n          label=\"百分比收益\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (scope.row.百分比收益 * 100).toFixed(2) + '%' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          sortable\r\n          prop=\"申购金额\"\r\n          label=\"申购金额\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.申购金额.toFixed(0) + '元'}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"上市日期\"\r\n          label=\"上市日期\">\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <h3>历史收益曲线</h3>\r\n    <p>股票未中签或股票出售后才记录收益</p>\r\n    <div id=\"main\" style=\"width: 100%;height:400px;\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 打新记录数据\r\nimport data from '../assets/stockList';\r\n// 券商数据\r\nimport CreateBroker from \"@/assets/CreateBroker\";\r\nimport echarts from \"echarts\";\r\n\r\nconst brokerObj = new CreateBroker(data);\r\nconsole.log(brokerObj);\r\n\r\n// 冒泡排序\r\nfunction bubbleSort (arr) {\r\n  var max = arr.length - 1;\r\n  for (var j = 0; j < max; j++) {\r\n    // 声明一个变量，作为标志位\r\n    var done = true;\r\n    for (var i = 0; i < max - j; i++) {\r\n      if (new Date(arr[i].日期) > new Date(arr[i + 1].日期)) {\r\n        var temp = arr[i];\r\n        arr[i] = arr[i + 1];\r\n        arr[i + 1] = temp;\r\n        done = false;\r\n      }\r\n    }\r\n    if (done) {\r\n      break;\r\n    }\r\n  }\r\n  return arr;\r\n}\r\n\r\n\r\n\r\nexport default {\r\n  name: \"list.vue\",\r\n  data() {\r\n    return {\r\n      brokerObj: brokerObj,\r\n      activeName: brokerObj.打新记录[0].name,\r\n    }\r\n  },\r\n  filters: {\r\n\r\n  },\r\n  methods: {\r\n    handleClick(tab, event) {\r\n      // console.log(tab, event);\r\n    },\r\n    // 中签行变色\r\n    tableRowClassName({row, rowIndex}) {\r\n      if (row.中签数 > 0) {\r\n        return 'success-row';\r\n      }\r\n      return '';\r\n    },\r\n\r\n    // 合计\r\n    getSummaries(param) {\r\n      const { columns, data } = param;\r\n      const sums = [];\r\n      columns.forEach((column, index) => {\r\n        if (index === 0) {\r\n          sums[index] = '合计';\r\n          return;\r\n        }\r\n        const values = data.map(item => Number(item[column.property]));\r\n        if (!values.every(value => isNaN(value))) {\r\n          sums[index] = values.reduce((prev, curr) => {\r\n            const value = Number(curr);\r\n            if (!isNaN(value)) {\r\n              return prev + curr;\r\n            } else {\r\n              return prev;\r\n            }\r\n          }, 0);\r\n          if (index === 4 || index === 5 || index === 6 || index === 8) {\r\n            sums[index] = sums[index].toFixed(0) + '元';\r\n          } else if(index === 1 || index === 3) {\r\n            sums[index] = sums[index] + '手';\r\n          }\r\n        }\r\n      });\r\n      // 总百分比收益\r\n      if(sums[6] && sums[4]) {\r\n        sums[7] = (sums[6].split('元')[0] / sums[4].split('元')[0] * 100).toFixed(2) + '%';\r\n      }\r\n      // 总融资倍数\r\n      if(sums[2] && sums[4] && sums[5]) {\r\n        sums[2] = ((sums[2] - sums[5].split('元')[0]) / (sums[4].split('元')[0] - sums[5].split('元')[0])).toFixed(2) + '倍';\r\n      }\r\n      return sums;\r\n    },\r\n\r\n    // 创建折线图\r\n    createChart(domId, xAxis, series) {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      const myChart = echarts.init(document.getElementById(domId));\r\n      // echarts配置\r\n      const option = {\r\n        color: ['#3398DB'],\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {            // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow',        // 默认为直线，可选为：'line' | 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: xAxis,\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '收益',\r\n            type: 'line',\r\n            barWidth: '60%',\r\n            data: series,\r\n          }\r\n        ]\r\n      };\r\n\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart.setOption(option);\r\n    },\r\n\r\n    // 历史收益曲线计算\r\n    calc() {\r\n      // 历史收益曲线 目前打新利润 = 中签后已经出售的股票,如果股票未出售不计算,因为利润并未确定,不包含打未公布的新股费用\r\n      // todo 每个股票打新费用 总中签率和实际中签率 资金占用\r\n      let 收益对象 = {};\r\n      this.brokerObj.打新记录.forEach((element) => {\r\n        element.list.forEach((ele) => {\r\n          const {中签数, 出售日期} = ele;\r\n          let 结算日;\r\n          if (中签数 === 0) {\r\n            try {\r\n              let dateTime = new Date(element.上市日期);\r\n              // 未中签暗盘结算\r\n              if(dateTime.getDay() === 0) {\r\n                dateTime.setDate(dateTime.getDate() - 3)\r\n              } else {\r\n                dateTime.setDate(dateTime.getDate() - 1)\r\n              }\r\n              结算日 = `${dateTime.getFullYear()}/${dateTime.getMonth() + 1}/${dateTime.getDate()}`;\r\n            } catch(e) {\r\n              console.log(e)\r\n            }\r\n\r\n          } else if(出售日期) {\r\n            结算日 = ele.出售日期;\r\n          }\r\n          if(中签数 === 0 || 出售日期) {\r\n            if (!收益对象[结算日]) {\r\n              收益对象[结算日] = ele.盈亏;\r\n            } else {\r\n              收益对象[结算日] += ele.盈亏;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      let 收益日期 = [], 收益利润 = [], 收益数组对象 = [], 总收益 = 0;\r\n      // 排序\r\n      for (const key in 收益对象) {\r\n        收益数组对象.push({\r\n          日期: key,\r\n          利润: 收益对象[key],\r\n        })\r\n      }\r\n      // 第一次申购新股\r\n      收益数组对象.unshift({\r\n        日期: '2020/4/14',\r\n        利润: 0,\r\n      });\r\n      // 冒泡排序\r\n      bubbleSort(收益数组对象);\r\n\r\n      收益数组对象.forEach((ele) => {\r\n        收益日期.push(ele.日期);\r\n        收益利润.push((总收益 += ele.利润).toFixed(2) - 0);\r\n      });\r\n      this.createChart('main', 收益日期, 收益利润, 'line', '收益');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.calc();\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=c3d4be22&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}