(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["list"],{"449a":function(t,e,a){},"6be2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("申购记录")]),a("el-tabs",{staticStyle:{height:"800px"},attrs:{"tab-position":"left"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.brokerObj.打新记录,(function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.name,name:e.name}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","summary-method":t.getSummaries,"show-summary":"","row-class-name":t.tableRowClassName,"default-sort":{prop:"打新手数",order:"descending"},"max-height":"800"}},[a("el-table-column",{attrs:{prop:"券商",label:"券商"}}),a("el-table-column",{attrs:{prop:"打新手数",label:"打新手数",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.打新类型.split("打新")[0]+e.row.打新手数+"手")+"\n          ")]}}],null,!0)}),a("el-table-column",{attrs:{prop:"申购金额",label:"融资倍数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(1!==e.row.融资比例?(1/(1-e.row.融资比例)).toFixed(0)+"倍":"白嫖")+"\n          ")]}}],null,!0)}),a("el-table-column",{attrs:{sortable:"",prop:"中签数",label:"中签数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.中签数?e.row.中签数+"手":"")+"\n          ")]}}],null,!0)}),a("el-table-column",{attrs:{sortable:"",prop:"资金占用",label:"资金占用"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.资金占用.toFixed(0)+"元")+"\n          ")]}}],null,!0)}),a("el-table-column",{attrs:{sortable:"",prop:"申购成本",label:"申购成本"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.申购成本.toFixed(0)+"元")+"\n          ")]}}],null,!0)}),a("el-table-column",{attrs:{sortable:"",prop:"盈亏",label:"盈亏"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.盈亏.toFixed(0)+"元")+"\n          ")]}}],null,!0)}),a("el-table-column",{attrs:{sortable:"",prop:"百分比收益",label:"百分比收益"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s((100*e.row.百分比收益).toFixed(2)+"%")+"\n          ")]}}],null,!0)})],1)],1)})),1),a("h3",[t._v("申购合计")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.brokerObj.打新记录,"summary-method":t.getSummaries,"show-summary":"",border:"","max-height":"800"}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称"}}),a("el-table-column",{attrs:{sortable:"",prop:"手数",label:"打新手数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.手数+"手")+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"申购金额",label:"平均融资倍数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.融资倍数!==1/0?e.row.融资倍数.toFixed(0)+"倍":"白嫖")+"\n      ")]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"中签数",label:"中签数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.中签数?e.row.中签数+"手":"")+"\n      ")]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"资金占用",label:"资金占用"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.资金占用.toFixed(0)+"元")+"\n      ")]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"申购成本",label:"申购成本"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.申购成本.toFixed(0)+"元")+"\n      ")]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"盈亏",label:"盈亏"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.盈亏.toFixed(0)+"元")+"\n      ")]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"百分比收益",label:"百分比收益"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s((100*e.row.百分比收益).toFixed(2)+"%")+"\n      ")]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"申购金额",label:"申购金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.申购金额.toFixed(0)+"元")+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"上市日期",label:"上市日期"}})],1),a("h3",[t._v("历史收益曲线")]),a("p",[t._v("股票未中签或股票出售后才记录收益")]),a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"main"}})],1)},l=[],o=(a("28a5"),a("c5f6"),a("ac6a"),a("7f7f"),a("97a7")),r=a("a44f"),s=a("313e"),u=a.n(s),i=new r["a"](o["a"]);function c(t){for(var e=t.length-1,a=0;a<e;a++){for(var n=!0,l=0;l<e-a;l++)if(new Date(t[l].日期)>new Date(t[l+1].日期)){var o=t[l];t[l]=t[l+1],t[l+1]=o,n=!1}if(n)break}return t}console.log(i);var f={name:"list.vue",data:function(){return{brokerObj:i,activeName:i.打新记录[0].name}},filters:{},methods:{handleClick:function(t,e){},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.中签数>0?"success-row":""},getSummaries:function(t){var e=t.columns,a=t.data,n=[];return e.forEach((function(t,e){if(0!==e){var l=a.map((function(e){return Number(e[t.property])}));l.every((function(t){return isNaN(t)}))||(n[e]=l.reduce((function(t,e){var a=Number(e);return isNaN(a)?t:t+e}),0),4===e||5===e||6===e||8===e?n[e]=n[e].toFixed(0)+"元":1!==e&&3!==e||(n[e]=n[e]+"手"))}else n[e]="合计"})),n[6]&&n[4]&&(n[7]=(n[6].split("元")[0]/n[4].split("元")[0]*100).toFixed(2)+"%"),n[2]&&n[4]&&n[5]&&(n[2]=((n[2]-n[5].split("元")[0])/(n[4].split("元")[0]-n[5].split("元")[0])).toFixed(2)+"倍"),n},createChart:function(t,e,a){var n=u.a.init(document.getElementById(t)),l={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"收益",type:"line",barWidth:"60%",data:a}]};n.setOption(l)},calc:function(){var t={};this.brokerObj.打新记录.forEach((function(e){e.list.forEach((function(a){var n,l=a.中签数,o=a.出售日期;if(0===l)try{var r=new Date(e.上市日期);0===r.getDay()?r.setDate(r.getDate()-3):r.setDate(r.getDate()-1),n="".concat(r.getFullYear(),"/").concat(r.getMonth()+1,"/").concat(r.getDate())}catch(s){console.log(s)}else o&&(n=a.出售日期);(0===l||o)&&(t[n]?t[n]+=a.盈亏:t[n]=a.盈亏)}))}));var e=[],a=[],n=[],l=0;for(var o in t)n.push({"日期":o,"利润":t[o]});n.unshift({"日期":"2020/4/14","利润":0}),c(n),n.forEach((function(t){e.push(t.日期),a.push((l+=t.利润).toFixed(2)-0)})),this.createChart("main",e,a,"line","收益")}},mounted:function(){this.calc()}},p=f,d=(a("78d4"),a("2877")),b=Object(d["a"])(p,n,l,!1,null,null,null);e["default"]=b.exports},"78d4":function(t,e,a){"use strict";var n=a("449a"),l=a.n(n);l.a}}]);
//# sourceMappingURL=list.940e526e.js.map